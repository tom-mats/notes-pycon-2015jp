# Pythonで作って遊ぶ形態素解析

## Janome

* 辞書はmecabをベースに実装
  + 未知語処理に差が出る
+ PurePyhtonで標準ライブラリだけで実装
* ユーザ辞書サポート(Mecabの辞書形式)

### 形態素解析とは

+ 言語で意味を持つ最小の分割に分析します．

### アルゴリズム

+ 辞書と言語モデル
  + 人で整理
  + コーパスから教師あり機械学習
  + 一般には上記の二つを組み合わせる
+ 一般人がモデルから作り出すのはすごい大変
+ 既存(Mecab)を利用するのが早い
+ 解析エンジン
  + 辞書を何でひくか

### 辞書引き

+ 辞書はサイズがコンパクトで高速
+ 基本Dictだが，辞書のサイズが大きいと辞書引きに時間がかかってしまうので非効率
* コモンプレフィックスマッチを使うと効率的

* データ構造，アルゴリズム
  + FST

#### FST

* Apacheの実装をベースにPythonに実装
* 決定性有限オートマトンの一種
* ソートされていることを前提

```
apr => 30
aug => 31
dec => 31
```

とした場合，

```
s1 -^(a/3) s1 - p/0  s2 -r s3
              - u/1  s2 -g s3e
   - d/31      - e    s2 -c s3              
```              

## 日本語らしさの計算

* 言語モデル(隠れマルコフモデル)
  + 単語の出現しやすさ
  * 前後の品質のつながりやすすさ

総和(対数をとっている)が多くなればよい


# Janameの開発振り返り

## 辞書サイズ

+ 初期リリースは20MB
+ ビルドにメモリを3,4GBとかなり使う

## 2系/3系対応

* 2系対応版は別パッケージで公開，Pull Reqで後日マージ
+ 3系の方がバイナリや文字列が扱いやすい
